(dp1
S'output'
p2
S''
sS'layer'
p3
S'applications/blog/views/default/manage.html'
p4
sS'code'
p5
S'\nresponse.write(\'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\\r\\n<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr">\\r\\n    <head profile="http://gmpg.org/xfn/11">\\r\\n\\r\\n        <meta http-equiv="content-type" content="text/html; charset=utf-8" />\\r\\n        <meta name="keywords" content="\',escape=False)\nresponse.write(response.keywords)\nresponse.write(\'" />\\r\\n        <meta name="description" content="\',escape=False)\nresponse.write(response.description)\nresponse.write(\'" />\\r\\n        \\r\\n        <title>\',escape=False)\nif response.title:\n    response.write(\'\',escape=False)\n    response.write(response.title)\n    response.write(\'\',escape=False)\nelse:\n    response.write(\'\',escape=False)\n    response.write(URL(r=request))\n    response.write(\'\',escape=False)\n    pass\nresponse.write(\'</title>\\r\\n\\r\\n        <link rel="stylesheet" href="/\',escape=False)\nresponse.write(request.application)\nresponse.write(\'/static/style.css" type="text/css" media="screen" />\\r\\n\\r\\n        <style type="text/css" media="screen">\\r\\n            #page { background: url("/\',escape=False)\nresponse.write(request.application)\nresponse.write(\'/static/bg-ltr.jpg") repeat-y top; border: none; }\\r\\n        \\t#flash { \\r\\n\\t\\t\\t\\twidth: 450px; \\r\\n\\t\\t\\t\\tmargin: 0 auto; \\r\\n\\t\\t\\t\\ttext-align: center; \\r\\n\\t\\t\\t\\tclear: both; \\r\\n\\t\\t\\t\\tborder: 1px #000000; \\r\\n\\t\\t\\t\\tbackground-color: #6cade3; \\r\\n\\t\\t\\t\\tcolor: white; \\r\\n\\t\\t\\t\\tpadding-top: 1.0em; \\r\\n\\t\\t\\t\\tpadding-bottom: 1.0em;\\r\\n\\t\\t\\t\\tmargin-top: 20px; \\r\\n\\t\\t\\t}\\r\\n\\t\\t</style>\\r\\n        \\r\\n        <script type="text/javascript">\\n<!--\\n/*\\nWritten by Massimo Di Pierro.\\n\\nThis is a minimalistic AJAX for web2py, for more sophisticated stuff\\nyou should use Scriptacolous or some other AJAX toolkit. Anyway...\\n\\nTo use web2py_ajax.html just make sure you include \\\'web2py_ajax.html\\\'\\nin your layout.html. This provides four functions:\\n\\npopup(url)\\ncollapse(id)\\nfade(id,value) // try value= +0.1 or -0.1\\najax(url,sources,taget) \\n// will send sources[i].value to url and dispaly result in target\\n*/\\n\\nfunction popup(url) {\\n  newwindow=window.open(url,\\\'name\\\',\\\'height=400,width=600\\\');\\n  if (window.focus) {newwindow.focus()}\\n  return false;\\n}\\n\\nfunction collapse(id) {\\n   if(this.document.getElementById(id).style.display=="none")\\n   (this.document.getElementById(id).style.display="block") ;\\n   else (this.document.getElementById(id).style.display="none") ;\\n}\\n\\nfunction fade(id,value) {\\n  var object=document.getElementById(id);\\n  if(value<0 && !object.style.opacity) {\\n     this.document.getElementById(id).style.display="block";\\n     object.style.opacity=1;\\n  }\\n  if(value>0 && object.style.opacity>=1) object.style.opacity=1;\\n  else if(value<0 && object.style.opacity<=0) {\\n     this.document.getElementById(id).style.display="none";\\n     object.style.opacity=0;\\n  }\\n  else {\\n     this.document.getElementById(id).style.display="block";\\n     object.style.opacity-=-value;\\n     setTimeout(function(){fade(id,value);},100);\\n     return false;\\n  }\\n  return true;\\n}\\n\\nfunction ajax(url,sources,target) {\\n  var req = null; \\n  var ctarget=document.getElementById(target);\\n  window.status="connecting...";\\n  if(window.XMLHttpRequest)\\n     req = new XMLHttpRequest(); \\n  else if (window.ActiveXObject)\\n     req  = new ActiveXObject("Microsoft.XMLHTTP");\\n  req.onreadystatechange = function() {\\n     window.status="waiting...";\\n     if(req.readyState == 4)\\n       if(req.status == 200) {\\n          window.status=\\\'Ajax Done!\\\'\\n          try { \\n             ctarget.innerHTML=req.responseText; \\n             try {ctarget.scrollTop=ctarget.scrollHeight-ctarget.clientHeight;}\\n             catch(err) {}\\n          } catch(err) { ctarget.value=req.responseText; }\\n       } else alert("AJAX Error: " + req.status);\\n  }\\n  var query=""\\n  for(i=0; i<sources.length; i++) {\\n     if(i>0) query=query+"&";\\n     query=query+encodeURIComponent(sources[i])+"="+encodeURIComponent(document.getElementById(sources[i]).value);\\n  }\\n  req.open("POST",url,true); \\n  req.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"); \\n  req.send(query); \\n} \\n//-->\\n</script>\\r\\n        \\r\\n    </head>\\r\\n\\r\\n    <body \',escape=False)\nif response.flash:\n    response.write(\'onload="fade(\\\'flash\\\',0.1);"\',escape=False)\n    pass\nresponse.write(\'>\\r\\n        <div id="page">\\r\\n\\r\\n            <div id="header">\\r\\n                <div id="headerimg">\\r\\n                    <h1>\\r\\n                        <a href="/\',escape=False)\nresponse.write(request.application)\nresponse.write(\'/default/index/">\\r\\n                        \\t[web2py<sup style="font-size:0.5em;">TM</sup>]\\r\\n                        \\t\',escape=False)\nresponse.write(request.application)\nresponse.write(\'\\r\\n\\t\\t\\t\\t\\t\\t</a>\\r\\n                    </h1>\\r\\n            \\r\\n                    <div class="description">\\r\\n                        \',escape=False)\nresponse.write(response.description)\nresponse.write(\'\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        \\r\\n            <hr />\\r\\n\\r\\n            <div id="content" class="narrowcolumn">\\r\\n            \\r\\n                \',escape=False)\nif response.flash:\n    response.write(\'\\r\\n                    <div id="flash">\',escape=False)\n    response.write(response.flash)\n    response.write(\'</div>\\r\\n                \',escape=False)\n    pass\nresponse.write(\'\\r\\n            \\r\\n                \\r\\n\\r\\n<div class="post">\\r\\n\\t<h2>\',escape=False)\nresponse.write(manage_title)\nresponse.write(\'</h2>\\r\\n\\r\\n\\t<div class="entry">\\r\\n\\t\\t<p>\\r\\n\\t\\t\\t<table width="100%" cellpadding="0" cellspacing="0">\\r\\n\\t\\t\\t\\t\',escape=False)\ni = 0\nresponse.write(\'\\r\\n\\t\\t\\t\\t\',escape=False)\nfor row in rows:\n    response.write(\'\\r\\n\\t\\t\\t\\t\',escape=False)\n    \n    i = i + 1\n    if i % 2 == 0:\n        color = \'#ffffff\'\n    else:\n        color = \'#eeeeee\'\n        \n        response.write(\'\\r\\n\\t\\t\\t\\t\\t<tr style="background-color: \',escape=False)\n        response.write(color)\n        response.write(\'">\\r\\n\\t\\t\\t\\t\\t\\t<td>\',escape=False)\n        response.write(row.link_title)\n        response.write(\'</td>\\t\\r\\n\\t\\t\\t\\t\\t\\t<td style="font-size: 10px;">[edit]</td>\\r\\n\\t\\t\\t\\t\\t\\t<td style="font-size: 10px;">[delete]</td>\\r\\n\\t\\t\\t\\t\\t</tr>\\r\\n\\t\\t\\t\\t\\t<tr>\\r\\n\\t\\t\\t\\t\\t\\t<td colspan="3" style="font-size: 10px; color: #666;">\',escape=False)\n        response.write(row.link_url)\n        response.write(\'</td>\\r\\n\\t\\t\\t\\t\\t</tr>\\r\\n\\t\\t\\t\\t\',escape=False)\n        pass\n    response.write(\'\\r\\n\\t\\t\\t</table>\\r\\n\\t\\t</p>\\r\\n\\t</div>\\r\\n</div>\\r\\n        \\r\\n            </div>\\r\\n\\r\\n            <div id="sidebar">\\r\\n\\t\\t\\t\\t<ul>\\r\\n\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\',escape=False)\n    if response.sidebar_note:\n        response.write(\'\\r\\n\\t\\t\\t\\t\\t\\t<li>\\r\\n\\t\\t\\t\\t\\t\\t\\t<p>\',escape=False)\n        response.write(response.sidebar_note)\n        response.write(\'</p>\\r\\n\\t\\t\\t\\t\\t\\t</li>\\t\\r\\n\\t\\t\\t\\t\\t\',escape=False)\n        pass\n    response.write(\'\\r\\n\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\',escape=False)\n    if response.menu:\n        response.write(\'\\r\\n\\t\\t\\t\\t\\t\\t<li>\\r\\n\\t\\t                \\t<h2 class="widgettitle">Pages</h2>\\r\\n\\t\\t                \\t<ul>\\r\\n\\t\\t                    \\t\',escape=False)\n        for _name,_active,_link in response.menu:\n            response.write(\'\\r\\n\\t\\t                            <li><a href="\',escape=False)\n            response.write(_link)\n            response.write(\'" \',escape=False)\n            if not _active:\n                response.write(\'class="inactive"\',escape=False)\n                pass\n            response.write(\'>\',escape=False)\n            response.write(_name)\n            response.write(\'</a></li>\\r\\n\\t\\t                        \',escape=False)\n            pass\n        response.write(\'\\r\\n\\t\\t                    </ul>\\r\\n\\t\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t\\t\',escape=False)\n        pass\n    response.write(\'\\r\\n\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\',escape=False)\n    if response.categories:\n        response.write(\'\\r\\n\\t\\t\\t\\t\\t\\t<li>\\r\\n\\t\\t                \\t<h2 class="widgettitle">\\r\\n\\t\\t                \\t\\tCategories\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\',escape=False)\n        if session.authorized:\n            response.write(\'\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style="font-size: .8em; font-weight: normal;">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[<a href="/\',escape=False)\n            response.write(request.application)\n            response.write(\'/default/manage/link">manage</a>]\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</span>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\',escape=False)\n            pass\n        response.write(\'\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t</h2>\\r\\n\\t\\t                \\t<ul>\\r\\n\\t\\t                    \\t\',escape=False)\n        for _name,_count,_link in response.categories:\n            response.write(\'\\r\\n\\t\\t                            <li><a href="\',escape=False)\n            response.write(_link)\n            response.write(\'">\',escape=False)\n            response.write(_name)\n            response.write(\'</a> (\',escape=False)\n            response.write(_count)\n            response.write(\')</li>\\r\\n\\t\\t                        \',escape=False)\n            pass\n        response.write(\'\\r\\n\\t\\t                    </ul>\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t\\t\',escape=False)\n        pass\n    response.write(\'\\r\\n\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\',escape=False)\n    if response.links:\n        response.write(\'\\r\\n\\t\\t\\t\\t\\t\\t<li>\\r\\n\\t\\t                \\t<h2 class="widgettitle">\\r\\n\\t\\t                \\t\\tLinks \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\',escape=False)\n        if session.authorized:\n            response.write(\'\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style="font-size: .8em; font-weight: normal;">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[<a href="/\',escape=False)\n            response.write(request.application)\n            response.write(\'/default/manage/link">manage</a>]\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</span>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\',escape=False)\n            pass\n        response.write(\'\\r\\n\\t\\t\\t\\t\\t\\t\\t</h2>\\r\\n\\t\\t               \\t\\t<ul>\\r\\n\\t\\t                    \\t\',escape=False)\n        for _name,_link,_id in response.links:\n            response.write(\'\\r\\n\\t\\t                            <li>\\r\\n\\t\\t                            \\t<a target="_blank" href="\',escape=False)\n            response.write(_link)\n            response.write(\'">\',escape=False)\n            response.write(_name)\n            response.write(\'</a>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t                        \',escape=False)\n            pass\n        response.write(\'\\r\\n\\t\\t                    </ul>\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t\\t\',escape=False)\n        pass\n    response.write(\'\\r\\n\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\',escape=False)\n    if session.authorized:\n        response.write(\'\\r\\n\\t\\t\\t\\t\\t\\t<li>\\r\\n\\t\\t\\t\\t\\t\\t\\t<h2>Mini Admin</h2>\\r\\n\\t\\t\\t\\t\\t\\t\\t<ul>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<li><a href="/\',escape=False)\n        response.write(request.application)\n        response.write(\'/default/add/page">Add Page</a></li>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<li><a href="/\',escape=False)\n        response.write(request.application)\n        response.write(\'/default/add/post">Add Post</a></li>\\r\\n\\t\\t\\t\\t\\t\\t\\t</ul>\\r\\n\\t\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t\\t\',escape=False)\n        pass\n    response.write(\'\\r\\n\\t\\t\\t\\t</ul>\\r\\n            </div>\\r\\n\\r\\n            <hr />\\r\\n            \\r\\n            <div id="footer" style="height: 63px;">\\r\\n                <p>\\r\\n                    Powered by <a href="http://www.web2py.com">web2py</a> (TM) created by Massimo Di Pierro &copy; 2007, 2008\\r\\n                </p>\\r\\n            </div>\\r\\n            \\r\\n        </div>\\r\\n\\r\\n    </body>\\r\\n</html>\',escape=False)\n    '
p6
sS'traceback'
p7
S'Traceback (most recent call last):\n  File "C:\\Documents and Settings\\csharp\\Desktop\\web2py\\gluon\\restricted.py", line 59, in restricted\n    else: ccode=compile(code,layer,\'exec\')\n  File "applications/blog/views/default/manage.html", line 127\n    \n   ^\nSyntaxError: invalid syntax\n'
p8
s.